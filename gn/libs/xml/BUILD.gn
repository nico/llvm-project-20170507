import("//gn/mac_sdk.gni")

declare_args() {
  # Wether to include code that links against libxml2.
  llvm_enable_libxml2 = true
}

config("xml_config") {
  visibility = [ ":xml" ]
  defines = [ "LLVM_LIBXML2_ENABLED" ]
  libs = [ "xml2" ]
  if (host_os == "mac") {
    include_dirs = [ "$mac_sdk/usr/include/libxml2" ]
  } else {
    include_dirs = [ "/usr/include/libxml2" ]
  }
}

group("xml") {
  if (llvm_enable_libxml2) {
    public_configs = [ ":xml_config" ]
  }
}
